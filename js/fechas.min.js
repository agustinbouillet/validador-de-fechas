/*
title: Validador de fechas.
autor: AgustÃ­n Bouillet
year: 2016
email: agustin.bouillet@gmail.com
website: www.bouillet.com.ar
gitHub: https://github.com/agustinbouillet/validador-de-fechas
*/
function Fechas(a){this.input=a,this.separator="-",this.matchFormat=matchFormat,this.isValid=isValid,this.getData=setData,this.date=new Date,this.month_format={1:{abbr:"ene",normal:"enero"},2:{abbr:"feb",normal:"febrero"},3:{abbr:"mar",normal:"marzo"},4:{abbr:"abr",normal:"abril"},5:{abbr:"may",normal:"mayo"},6:{abbr:"jun",normal:"junio"},7:{abbr:"jul",normal:"julio"},8:{abbr:"ago",normal:"agosto"},9:{abbr:"sep",normal:"septiembre"},10:{abbr:"oct",normal:"octubre"},11:{abbr:"nov",normal:"noviembre"},12:{abbr:"dic",normal:"diciembre"}},this.day_format={0:{abbr:"dom",normal:"domingo"},1:{abbr:"lun",normal:"lunes"},2:{abbr:"mar",normal:"martes"},3:{abbr:"mie",normal:"mi\xe9rcoles"},4:{abbr:"jue",normal:"jueves"},5:{abbr:"vie",normal:"viernes"},6:{abbr:"sab",normal:"s\xe1bado"}}}function matchFormat(){var a=/^((3[0-1]|[0-2][\d]|[1-9])(?:\s[,.;\-\sd-e]+)(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)(?:[,.;\-\sd-e]+)(\d{4}|\d{2})|(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)(?:[,.;\-\sd-e]+)(3[0-1]|[0-2][\d]|[1-9])(?:[,.;\-\sd-e]+)(\d{4}|\d{2})|(3[0-1]|[0-2][\d]|[1-9])(\/|\-|\.)(1[0-2]|0[\d]|[1-9])\9(\d{4}|\d{2})|(3[0-1]|[0-2][\d]|[1-9])(?:[,.;\-\sd-e]+)(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)|(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)(?:\s|[,.;\-\sd-e]+)(3[0-1]|[0-2][\d]|[1-9])|([\d]{4})(\-|\/|\.)(1[0-2]|0[\d]|[1-9])\17(3[0-1]|[0-2][\d]|[1-9])|(hoy|now|today)|(ma\xf1ana|manana|tomorrow)|(ayer|yesterday))$/i,b=this.input.match(a);return null!==b?b:!1}function addDays(a,b){var c=new Date(a);return c.setDate(a.getDate()+b),c}function intMonth(a){return n=parseInt(a),Number.isInteger(n)&&n>0&&n<=12?n:!1}function strReplace(a){if(num=intMonth(a))return num;var b,c={ene:1,feb:2,mar:3,abr:4,may:5,jun:6,jul:7,ago:8,sep:9,oct:10,nov:11,dic:12,enero:1,febrero:2,marzo:3,abril:4,mayo:5,junio:6,julio:7,agosto:8,septiembre:9,octubre:10,noviembre:11,diciembre:12};return a.replace(a,function(a,d){b=c[a]}),void 0!=b?b:!1}function setData(){if(!this.isValid)return!1;result=this.matchFormat();var a=this.separator,b=this.date.getDate(),c=this.date.getMonth()+1,d=this.date.getFullYear();for(day_list=[2,8,6,19,15,12],i=0;i<=day_list.length-1;i++){if(void 0!==result[parseInt(day_list[i])]){var b=parseInt(result[day_list[i]]);break}var b=!1}for(month_list=[5,3,10,18,14,13],i=0;i<=month_list.length-1;i++){if(void 0!==result[month_list[i]]){var c=strReplace(result[month_list[i]]);break}var c=!1}for(year_list=[4,7,11,16],i=0;i<=year_list.length-1;i++)if(void 0!==result[parseInt(year_list[i])]){var d=parseInt(result[year_list[i]]);break}if(void 0!==result[20])var b=this.date.getDate(),c=this.date.getMonth()+1,d=this.date.getFullYear();if(void 0!==result[22]){yesterday=addDays(this.date,-1);var b=yesterday.getDate(),c=yesterday.getMonth()+1,d=yesterday.getFullYear()}if(void 0!==result[21]){tomorrow=addDays(this.date,1);var b=tomorrow.getDate(),c=tomorrow.getMonth()+1,d=tomorrow.getFullYear()}date_obj=new Date(d,c-1,b);var e={day:date_obj.getDay(),day_tostring:this.day_format[date_obj.getDay()],month_tostring:this.month_format[c],date:b,month:c,year:d,date_format:d+a+zeroFill(c,2)+a+zeroFill(b,2)};return e}function zeroFill(a,b){return b-=a.toString().length,b>0?new Array(b+(/\./.test(a)?2:1)).join("0")+a:a+""}function isValid(){return this.matchFormat()?!0:!1}